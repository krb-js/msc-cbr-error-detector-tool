<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="rootPane"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.demo.HelloController"
            prefWidth="800" prefHeight="500">

    <VBox spacing="6" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
          AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
        <padding>
            <Insets top="6" right="6" bottom="6" left="6"/>
        </padding>

        <Label text="MSC Error Detector Tool">
            <font><Font size="16"/></font>
        </Label>

        <HBox spacing="6">
            <children>
                <Button mnemonicParsing="false" text="Upload" onAction="#handleUpload"/>
                <Button fx:id="analyzeButton" text="Analyze Errors" onAction="#checkAspectInCollection"/>
                <Button fx:id="exportButton" text="Export to Excel" onAction="#exportToExcel"/>
                <Button text="Copy All" onAction="#copyResultsToClipboard"/>
                <Button fx:id="copyErrorsButton" text="Copy Errors Only" onAction="#copyErrorsOnly"/>
                <ToggleButton fx:id="darkModeToggle" text="Dark Mode" onAction="#toggleDarkMode"/>
            </children>
        </HBox>

        <SplitPane orientation="HORIZONTAL" VBox.vgrow="ALWAYS">
            <items>
                <TableView fx:id="tableView" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="filenameColumn" text="Filename" prefWidth="140" minWidth="100"/>
                        <TableColumn fx:id="tidColumn" text="TID" prefWidth="100" minWidth="60"/>
                        <TableColumn fx:id="unhCountColumn" text="UNH/NAD+ZZZ Count" prefWidth="100" minWidth="60"/>
                        <TableColumn fx:id="documentIDColumn" text="DocumentID / CustomerCode" prefWidth="160" minWidth="100"/>
                    </columns>
                </TableView>

                <SplitPane orientation="VERTICAL" VBox.vgrow="ALWAYS">
                    <items>
                        <VBox spacing="3" VBox.vgrow="ALWAYS">
                            <padding>
                                <Insets top="3" right="3" bottom="3" left="3"/>
                            </padding>
                            <children>
                                <Label text="Paste the table MSC Codes below" style="-fx-font-size: 11px;"/>
                                <TextArea fx:id="aspectInCollectionTextArea" wrapText="true" VBox.vgrow="ALWAYS"/>
                            </children>
                        </VBox>

                        <VBox spacing="3" VBox.vgrow="ALWAYS">
                            <padding>
                                <Insets top="3" right="3" bottom="3" left="3"/>
                            </padding>
                            <children>
                                <Label text="Results" style="-fx-font-size: 11px;"/>
                                <TextArea fx:id="resultsTextArea" wrapText="true" editable="false" VBox.vgrow="ALWAYS"/>
                            </children>
                        </VBox>
                    </items>
                </SplitPane>
            </items>
        </SplitPane>

        <HBox spacing="6" alignment="CENTER_LEFT">
            <children>
                <ProgressBar fx:id="progressBar" HBox.hgrow="ALWAYS" prefHeight="14"/>
                <Label fx:id="progressLabel" text="0 / 0" style="-fx-font-size: 11px;"/>
            </children>
        </HBox>
    </VBox>

</AnchorPane>